"use strict";(self.webpackChunkpizza_ssr=self.webpackChunkpizza_ssr||[]).push([[168],{9168:(T,d,n)=>{n.r(d),n.d(d,{OrdersPageModule:()=>v});var a=n(3423),p=n(1190),e=n(7716),u=n(1841);let l=(()=>{class r{constructor(t){this.http=t}getOrders(){return this.http.get("/api/orders")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(u.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var i=n(4812),c=n(8583);function g(r,o){if(1&r&&(e.TgZ(0,"div",5),e.TgZ(1,"h4",4),e.TgZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.qZA()),2&r){const t=o.$implicit;e.xp6(4),e.Oqu(t.product.name),e.xp6(2),e.hij("x",t.quantity,""),e.xp6(2),e.Oqu(e.xi3(9,4,t.product.price,"EUR")),e.xp6(3),e.hij(" ",t.product.description," ")}}function m(r,o){if(1&r&&(e.TgZ(0,"nz-collapse-panel",2),e.ALo(1,"date"),e.YNc(2,g,12,7,"div",3),e._UZ(3,"hr"),e.TgZ(4,"h4",4),e.TgZ(5,"span"),e._uU(6,"\u0421ost of delivery:"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"h4",4),e.TgZ(12,"span"),e._uU(13,"Total price:"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"currency"),e.qZA(),e.qZA(),e.qZA()),2&r){const t=o.$implicit,s=e.oxw();e.Q6J("nzHeader",e.xi3(1,4,t.date,"medium")||t.date),e.xp6(2),e.Q6J("ngForOf",t.products),e.xp6(6),e.Oqu(e.xi3(9,7,t.deliveryPrice,"EUR")),e.xp6(7),e.Oqu(e.xi3(16,10,s.getTotalPrice(t),"EUR"))}}const O=[{path:"",component:(()=>{class r{constructor(t){this.ordersService=t,this.orders=[]}ngOnInit(){this.getOrders()}getOrders(){this.ordersService.getOrders().subscribe(t=>{this.orders=t})}getTotalPrice(t){return t.products.length>0?t.products.reduce((P,A)=>P+100*A.price,0)+100*t.deliveryPrice/100:0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pzs-orders-page"]],decls:2,vars:2,consts:[[3,"nzBordered"],[3,"nzHeader",4,"ngFor","ngForOf"],[3,"nzHeader"],["class","product",4,"ngFor","ngForOf"],[1,"product__title"],[1,"product"],[1,"product__count"]],template:function(t,s){1&t&&(e.TgZ(0,"nz-collapse",0),e.YNc(1,m,17,13,"nz-collapse-panel",1),e.qZA()),2&t&&(e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("ngForOf",s.orders))},directives:[i.yH,c.sg,i.Zv],pipes:[c.uU,c.H9],styles:[".product[_ngcontent-%COMP%]{margin-bottom:16px}.product__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product__count[_ngcontent-%COMP%]{margin-left:12px}hr[_ngcontent-%COMP%]{margin:16px 0}"]}),r})(),canActivate:[p.c]}];let Z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[a.Bz.forChild(O)],a.Bz]}),r})();var f=n(4466),h=n(6076);let v=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Z,f.m,h.V]]}),r})()}}]);